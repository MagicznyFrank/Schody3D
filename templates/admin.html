{% extends 'base.html' %}

{% block title %}
    Admin Panel
{% endblock %}

{% block content %}
    <h1>Admin Panel</h1>
    <table>
        <tr>
            <th>Id_sesji</th>
            <th><a href="?sort=length&prev_sort={{ sort_by }}&order={{ order }}">Długość</a></th>
            <th><a href="?sort=width&prev_sort={{ sort_by }}&order={{ order }}">Szerokość</a></th>
            <th><a href="?sort=height&prev_sort={{ sort_by }}&order={{ order }}">Wyokość</a></th>
            <th><a href="?sort=step_height&prev_sort={{ sort_by }}&order={{ order }}">Wysokość stopnia</a></th>
            <th><a href="?sort=number_of_steps&prev_sort={{ sort_by }}&order={{ order }}">Liczba stopni</a></th>
            <th>Typ schodów</th>
            <th> <a href="?sort=generated_date&prev_sort={{ sort_by }}&order={{ order }}">Data stworzenia</a></th>
            <th>Akcje</th>
            <th>Projekt</th>
        </tr>
        {% for stairs in stairs %}
        <tr>
            <td>{{ stairs['session_id'] }}</td>
            <td>{{ stairs['length'] }}</td>
            <td>{{ stairs['width'] }}</td>
            <td>{{ stairs['height'] }}</td>
            <td>{{ stairs['step_height'] }}</td>
            <td>{{ stairs['number_of_steps'] }}</td>
            <td>{{ stairs['Type'] }}</td>
            <td>{{ stairs['generated_date'] }}</td>
            <td>
                <form class="delete-form" action="{{ url_for('views.delete_stairs', session_id=stairs['session_id']) }}" method="POST">
                    <button class="delete-button" type="submit">Usuń</button>
                </form>
            </td>
            <td><a href="{{ url_for('FreeCadProjects', filename=stairs['session_id'] ~ '.html') }}" target="_blank">Otwórz projekt</a></td>
        </tr>
        {% endfor %}
    </table>
{% endblock %}