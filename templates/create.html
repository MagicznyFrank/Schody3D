{% extends 'base.html' %}

{% block content %}
<div class="form-container">
    <div class="form-container-background">
        <h1>{% block title %}Generator Schodów{% endblock %}</h1>
        <form method="post" onsubmit="return validateForm()">
            {% for attribute, min, max, step in [('Długość stopnia (mm)', 500, 2000, 10), ('Szerokość stopnia (mm)', 100, 1000, 10), ('Wysokość stopnia (mm)', 50, 300, 5), ('Wysokość między stopniami (mm)', 100, 400, 5), ('Ilość stopni', 1, 20, 1)] %}
            <div>
                <label for="{{ attribute|replace(' ', '_')|lower }}-slider">{{ attribute }}:</label>
                <input type="range" id="{{ attribute|replace(' ', '_')|lower }}-slider" name="{{ attribute }}" min="{{ min }}" max="{{ max }}" value="{{ min + (max-min)/2 }}" step="{{ step }}" oninput="syncValues(this, '{{ attribute|replace(' ', '_')|lower }}-number')">
                <input type="number" id="{{ attribute|replace(' ', '_')|lower }}-number" value="{{ min + (max-min)/2 }}" min="{{ min }}" max="{{ max }}" step="{{ step }}" oninput="syncValues(this, '{{ attribute|replace(' ', '_')|lower }}-slider')">
            </div>
            {% endfor %}
            <button type="submit" id="submitButton">Stwórz!</button>
        </form>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    function syncValues(source, targetId) {
        var target = document.getElementById(targetId);
        target.value = source.value;
    }

</script>
{% endblock %}
